### 1. 用户管理模块

#### 1.1 获取用户列表

复制

插入

创建

```
GET /api/users
Query Parameters:
- page: 页码 (默认1)
- pageSize: 每页数量 (默认9)
- search: 搜索关键词 (用户名/手机号)
- role: 角色筛选 (管理员/志愿者/需求者)
- status: 状态筛选 (活跃/禁用/待审核)

Response:
{
  "code": 200,
  "data": {
    "users": [
      {
        "id": 1,
        "username": "user1",
        "phone": "13816277518",
        "role": "管理员",
        "credit": 226,
        "status": "待审核",
        "registerTime": "2025-08-05",
        "avatar": "/avatars/user1.jpg"
      }
    ],
    "total": 18,
    "page": 1,
    "pageSize": 9
  }
}
```

#### 1.2 近七天创号人数统计

复制

插入

创建

```
GET /api/users/creation-stats
Query Parameters:
- days: 统计天数 (默认7)

Response:
{
  "code": 200,
  "data": {
    "dates": ["8/13", "8/14", "8/15", "8/16", "8/17", "8/18", "8/19"],
    "counts": [12, 18, 15, 22, 19, 25, 21]
  }
}
```

#### 1.3 用户角色分布统计

复制

插入

创建

```
GET /api/users/role-stats

Response:
{
  "code": 200,
  "data": [
    { "label": "需求者", "value": 20 },
    { "label": "志愿者", "value": 14 },
    { "label": "管理员", "value": 16 }
  ]
}
```

#### 1.4 用户状态分布统计

复制

插入

创建

```
GET /api/users/status-stats

Response:
{
  "code": 200,
  "data": [
    { "label": "活跃", "value": 22 },
    { "label": "禁用", "value": 13 },
    { "label": "待审核", "value": 16 }
  ]
}
```

### 2. 仪表盘模块

#### 2.1 获取仪表盘统计数据

复制

插入

创建

```
GET /api/dashboard/stats

Response:
{
  "code": 200,
  "data": {
    "totalServices": 1289,
    "activeVolunteers": 56,
    "warningAlerts": 12
  }
}
```

#### 2.2 获取服务趋势数据

复制

插入

创建

```
GET /api/dashboard/service-trend
Query Parameters:
- days: 统计天数 (默认4)

Response:
{
  "code": 200,
  "data": {
    "dates": ["08/16", "08/17", "08/18", "08/19"],
    "demands": [45, 38, 52, 41]
  }
}
```

#### 2.3 获取积分变动原因分布

复制

插入

创建

```
GET /api/dashboard/points-reason

Response:
{
  "code": 200,
  "data": [
    { "reason": "完成任务", "count": 47 },
    { "reason": "邀请奖励", "count": 23 },
    { "reason": "注册奖励", "count": 15 },
    { "reason": "管理员调整", "count": 11 },
    { "reason": "违规扣分", "count": 4 }
  ]
}
```

### 3. 账号管理模块

#### 3.1 获取待审核账号列表

复制

插入

创建

```
GET /api/accounts/pending

Response:
{
  "code": 200,
  "data": [
    {
      "id": 1,
      "username": "张大爷",
      "phone": "13800138001",
      "email": "zhang@example.com",
      "registerTime": "2025-08-20 14:30",
      "avatar": "/avatars/zhang.jpg"
    }
  ]
}
```

#### 3.2 获取活跃账号列表

复制

插入

创建

```
GET /api/accounts/active

Response:
{
  "code": 200,
  "data": [
    {
      "id": 101,
      "username": "管理员",
      "phone": "13800138101",
      "email": "admin@example.com",
      "role": "admin",
      "status": "active",
      "statusText": "已激活",
      "avatar": "/avatars/admin.jpg"
    }
  ]
}
```

#### 3.3 账号审核操作

复制

插入

创建

```
POST /api/accounts/{id}/approve
POST /api/accounts/{id}/reject
```

#### 3.4 更新账号角色

复制

插入

创建

```
PUT /api/accounts/{id}/role
Body: { "role": "admin" }
```

### 4. 投诉管理模块

#### 4.1 获取投诉列表

复制

插入

创建

```
GET /api/complaints
Query Parameters:
- page: 页码 (默认1)
- pageSize: 每页数量 (默认10)
- search: 搜索关键词

Response:
{
  "code": 200,
  "data": {
    "complaints": [
      {
        "id": 1,
        "title": "服务态度差",
        "description": "志愿者服务态度非常差...",
        "author": "张大爷",
        "time": "2025-08-20 14:30",
        "image": "/complaints/1.jpg"
      }
    ],
    "total": 10,
    "page": 1,
    "pageSize": 10
  }
}
```

#### 4.2 获取投诉详情

复制

插入

创建

```
GET /api/complaints/{id}

Response:
{
  "code": 200,
  "data": {
    "id": 1,
    "title": "服务态度差",
    "description": "详细描述...",
    "author": "张大爷",
    "phone": "13800138001",
    "time": "2025-08-20 14:30",
    "images": ["/complaints/1-1.jpg", "/complaints/1-2.jpg"],
    "status": "pending",
    "handler": null,
    "handleTime": null,
    "result": null
  }
}
```

#### 4.3 处理投诉

复制

插入

创建

```
POST /api/complaints/{id}/handle
Body: {
  "result": "处理结果描述",
  "status": "resolved"
}
```

### 5. 志愿者管理模块

#### 5.1 获取志愿者活跃度排名

复制

插入

创建

```
GET /api/volunteers/ranking

Response:
{
  "code": 200,
  "data": [
    { "id": 1, "name": "张伟", "creditScore": 850, "serviceCount": 42 },
    { "id": 2, "name": "李娜", "creditScore": 820, "serviceCount": 38 }
  ]
}
```

### 6. 通用接口规范

#### 6.1 响应格式

复制

插入

创建

```
interface ApiResponse<T> {
  code: number;
  message: string;
  data: T;
  timestamp: string;
}
```

#### 6.2 错误码定义

- 200: 成功
- 400: 请求参数错误
- 401: 未授权
- 403: 权限不足
- 404: 资源不存在
- 500: 服务器内部错误

#### 6.3 分页参数

所有列表接口支持分页，使用标准分页参数：

- page: 当前页码
- pageSize: 每页数量
- total: 总记录数

### 7. 认证接口

#### 7.1 用户登录

复制

插入

创建

```
POST /api/auth/login
Body: {
  "username": "admin",
  "password": "password"
}

Response:
{
  "code": 200,
  "data": {
    "token": "jwt_token_here",
    "user": {
      "id": 1,
      "username": "admin",
      "role": "admin",
      "avatar": "/avatars/admin.jpg"
    }
  }
}
```

#### 7.2 用户登出

复制

插入

创建

```
POST /api/auth/logout
```

### 8. 文件上传接口

#### 8.1 上传头像/图片

复制

插入

创建

```
POST /api/upload/avatar
Content-Type: multipart/form-data

Response:
{
  "code": 200,
  "data": {
    "url": "/uploads/avatar_123456.jpg"
  }
}
```