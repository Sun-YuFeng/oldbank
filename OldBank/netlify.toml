[build]
  command = "npm run build"
  publish = "dist"

# API代理重写 - 将/api请求转发到后端服务器
[[redirects]]
  # 匹配所有以 /api/ 开头的请求
  from = "/api/*"
  # 保留 /api 前缀，与本地开发环境一致
  # /api/admin/auth/login -> http://.../silveragepass/api/admin/auth/login
  to = "http://120.27.228.214:8080/silveragepass/api/:splat"
  # 状态码 200 表示这是一个代理（重写），而不是传统的重定向
  status = 200
  # 强制使用代理而非重定向
  force = true

# SPA路由支持
[[redirects]]
  from = "/*"
  to = "/index.html"
  status = 200